<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Gerador de Post</title>

  <!-- Fonte usada no canvas -->
  <link href="https://fonts.googleapis.com/css2?family=Comic+Relief&display=swap" rel="stylesheet">

  <!-- CSS externo -->
  <link rel="stylesheet" href="style.css?v=10">

  <!-- Estilo leve local (pode mover para style.css) -->
  <style>
    .categoria-wrap{display:flex;gap:28px;align-items:center;flex-wrap:wrap;margin:8px 0 10px}
    .categoria-wrap .radio{display:flex;gap:8px;align-items:center;font-size:16px}
    .categoria-wrap input[type="radio"]{width:18px;height:18px}
  </style>
</head>

<body>
  <main class="page-center">
    <a class="link-voltar" id="link-topo" href="index.html?back=1">Voltar/Menu</a>
    <div id="wizard-indicator">Etapa 1 de 7</div>

    <!-- ========== ETAPA 1 ========== -->
    <section class="step active" id="step1">
      <div class="faixa-secao"><span>Boas-vindas</span></div>
      <div id="intro-content" class="intro-box">
        <h2>Cadastro de expositor na √°rea Market do CMB üéâ</h2>
        <p>Preencha seus dados e no fim, voc√™ poder√° fazer o download da imagem gerada para divulga√ß√£o.</p>
        <p>Clique em <strong>Pr√≥ximo</strong> para come√ßar!</p>
      </div>
      <div class="button-row">
        <button class="btn-nav btn-proximo" data-next>Pr√≥ximo</button>
      </div>
    </section>

    <!-- ========== ETAPA 2 ========== -->
    <section class="step" id="step2">
      <div class="faixa-secao"><span>Sobre voc√™:</span></div>

      <label class="title-label">Seu nome:</label>
      <input type="text" id="nome" />

      <label class="title-label">E-mail:</label>
      <input type="email" id="email" placeholder="seu@email.com" />
      <div id="emailError" class="inline-error"></div>

      <label class="title-label">N√∫mero de telefone</label>
      <input type="tel" id="telefone" placeholder="(00) 00000-0000" />
      <div id="telefoneError" class="inline-error"></div>

      <div class="button-row">
        <button class="btn-nav btn-voltar" data-prev>Voltar</button>
        <button class="btn-nav btn-proximo" data-next>Pr√≥ximo</button>
      </div>
    </section>

    <!-- ========== ETAPA 3 ========== -->
    <section class="step" id="step3">
      <div class="faixa-secao"><span>Sobre sua empresa:</span></div>

      <label class="title-label">Nome da sua empresa:</label>
      <input type="text" id="empresa" />

      <label class="title-label">Site:</label>
      <div class="hint">(Cole o link do seu site. Caso n√£o tenha, pode ser o link da sua rede social)</div>
      <input type="text" id="site" />
      <div id="siteError" class="inline-error"></div>

      <label class="title-label">Instagram:</label>
      <div class="hint">(Escreva o seu @, n√£o o link)</div>
      <input type="text" id="insta" placeholder="@" />
      <div id="instaError" class="inline-error"></div>

      <div class="button-row">
        <button class="btn-nav btn-voltar" data-prev>Voltar</button>
        <button class="btn-nav btn-proximo" data-next>Pr√≥ximo</button>
      </div>
    </section>

    <!-- ========== ETAPA 4 ========== -->
    <section class="step" id="step4">
      <div class="faixa-secao"><span>Imagens</span></div>

      <label class="title-label">Envie o seu Logo com fundo transparente:</label>
      <div class="hint">(Use uma imagem sem bordas, mesmo que transparentes.)</div>
      <input type="file" id="logo" accept="image/*" />

      <label class="title-label">Envie uma imagem de apoio:</label>
      <div class="hint">(Outra imagem que podemos usar para mostrar mais de voc√™.)</div>
      <input type="file" id="lateral" accept="image/*" />

      <!-- Controles de posicionamento (SOMENTE NA ETAPA 4) -->
      <div class="faixa-secao"><span>Pr√©-posicionamento da imagem de apoio</span></div>
      <label class="title-label">Tamanho (largura % do preview)</label>
      <input type="range" id="imgScale4" min="10" max="90" step="1" value="40" />
      <label class="title-label">Posi√ß√£o horizontal</label>
      <input type="range" id="imgX4" min="0" max="100" step="1" value="50" />
      <label class="title-label">Posi√ß√£o vertical</label>
      <input type="range" id="imgY4" min="0" max="100" step="1" value="50" />

      <!-- Preview menor da etapa 4 (usa FRAME_URL_PREVIEW no JS) -->
      <canvas id="canvas4" width="540" height="675" style="max-width:100%;display:block;margin:16px auto"></canvas>

      <div class="button-row">
        <button class="btn-nav btn-voltar" data-prev>Voltar</button>
        <button class="btn-nav btn-proximo" data-next>Pr√≥ximo</button>
      </div>
    </section>

    <!-- ========== ETAPA 5 ========== -->
    <section class="step" id="step5">
      <div class="faixa-secao"><span>Vamos criar a sua divulga√ß√£o!</span></div>

      <div class="faixa-secao"><span>Selecione a sua categoria:</span></div>
      <div class="categoria-wrap" id="categoriaWrap">
        <label class="radio">
          <input type="radio" name="categoria" id="cat-artista" value="artista">
          artista confirmado
        </label>
        <label class="radio">
          <input type="radio" name="categoria" id="cat-empresa" value="empresa">
          empresa confirmada
        </label>
      </div>
      <div id="categoriaError" class="inline-error"></div>

      <!-- REMOVIDOS: sliders de imagem (a E5 s√≥ aplica o que veio da E4) -->

      <!-- Preview FINAL (tamanho grande) -->
      <canvas id="canvas5" width="1080" height="1350" style="max-width:100%;display:block;margin:16px auto"></canvas>

      <div id="avisoTexto"></div>

      <label class="title-label">Frase que defina o que voc√™ faz</label>
      <div class="hint">(Pense como se fosse um t√≠tulo chamativo do seu trabalho)</div>
      <input type="text" id="titulo" placeholder="T√≠tulo" />

      <label class="title-label">Crie uma breve descri√ß√£o:</label>
      <textarea id="descricao" rows="4"></textarea>

      <div class="button-row">
        <button class="btn-nav btn-voltar" data-prev>Voltar</button>
        <button class="btn-nav btn-proximo" data-next>Pr√≥ximo</button>
      </div>
    </section>

    <!-- ========== ETAPA 6 ========== -->
    <section class="step" id="step6">
      <div class="faixa-secao"><span>Informa√ß√µes adicionais:</span></div>
      <label class="title-label">Texto complementar</label>
      <div class="hint">(Biografia ou texto maior sobre voc√™ ou seu trabalho.)</div>
      <textarea id="descricaolonga" rows="8"></textarea>

      <label class="title-label">Tem alguma outra imagem para nos mandar?</label>
      <input type="file" id="background" accept="image/*" />

      <div class="button-row">
        <button class="btn-nav btn-voltar" data-prev>Voltar</button>
        <button class="btn-nav btn-proximo" data-next>Pr√≥ximo</button>
      </div>
    </section>

    <!-- ========== ETAPA 7 ========== -->
    <section class="step" id="step7">
      <div class="faixa-secao"><span>Confira suas informa√ß√µes</span></div>
      <div id="review-list" class="review-box"></div>
      <div id="mensagem"></div>

      <div class="button-row">
        <button class="btn-nav btn-voltar" data-prev>Voltar</button>
        <button class="btn-nav btn-proximo" id="botao-enviar" onclick="enviarParaGoogle()">Enviar informa√ß√µes</button>
      </div>
    </section>

    <!-- FINAL -->
    <section id="final-screen" class="final-screen">
      <div class="final-card">
        <h2>‚úÖ Enviado com sucesso!</h2>
        <p>Obrigado por enviar suas informa√ß√µes. Voc√™ j√° pode baixar a imagem.</p>
        <button class="btn-download" id="btn-final-download" onclick="baixarImagem()">Baixar Imagem</button>
        <button class="btn-menu" id="btn-menu" onclick="goToMenu()">Menu</button>
      </div>
    </section>

    <div id="overlay">
      <div class="loader">
        <img src="assets/loading.gif" alt="Carregando" class="loader-gif">
        <div class="loader-text">Enviando...</div>
      </div>
    </div>
  </main>

  <!-- Bump para for√ßar recarregamento (atualizei o v para evitar cache) -->
  <script src="app-expo_market.js?v=13"></script>

  <footer class="site-footer">
    <div class="footer-inner">
      <strong>Criado por Bruno Lima ‚Ä¢ </strong>
      <a href="mailto:limasketch@gmail.com">Implemente no seu evento.</a>
      <small>¬© 2025 Automatic Post. Todos os direitos reservados.</small>
    </div>
  </footer>
</body>
</html>
